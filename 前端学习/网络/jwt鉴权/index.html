<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div>
  <div>
    <span>账号</span><input id="name" type="text">
  </div>
  <div>
    <span>密码</span><input id="password" type="password">
  </div>
  <button id="btn">登录</button>
</div>
<script>
    const btn = document.querySelector('#btn')
    const name = document.querySelector('#name')
    const password = document.querySelector('#password')

    btn.onclick= ()=>{
        fetch('http://localhost:3000/api/login',{
            method:'POST',
            headers:{
                'Content-Type': 'application/json'
            },
            body:JSON.stringify({
                name:name.value,
                password:password.value
            })
        }).then(res=>res.json())
            .then(res=>{
                localStorage.setItem('token',res.token)
                location.href = './list.html'
        })
    }
</script>
</body>
</html>